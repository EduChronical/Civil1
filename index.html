<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Figure 1 - IPO Compliant Drawing</title>
    <style>
        /* IPO Margin Settings */
        @page {
            size: A4;
            margin: 25mm 15mm 10mm 25mm; /* Top, Right, Bottom, Left */
        }

        body {
            margin: 0;
            padding: 0;
            background: #fff;
            font-family: Arial, sans-serif;
            width: 210mm;
            height: 297mm;
            overflow: hidden;
        }

        /* Drawing Container */
        .drawing-container {
            width: 100%;
            height: 260mm; /* Leave space for Fig label */
            position: relative;
        }

        /* SVG Styles */
        svg {
            width: 100%;
            height: 100%;
        }

        /* Line Weights per IPO Standards */
        .visible-edge {
            stroke: #000000;
            stroke-width: 0.8mm;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .hidden-edge {
            stroke: #000000;
            stroke-width: 0.3mm;
            fill: none;
            stroke-dasharray: 4,2;            stroke-linecap: round;
        }

        .cut-surface {
            fill: #ffffff; /* White fill for cutaway */
            stroke: #000000;
            stroke-width: 0.5mm;
        }

        .microcapsules {
            fill: #000000;
            stroke: none;
        }

        /* Reference Numerals */
        .numeral-circle {
            fill: #ffffff;
            stroke: #000000;
            stroke-width: 0.3mm;
        }

        .numeral-text {
            font-family: Arial, sans-serif;
            font-size: 4mm;
            font-weight: normal;
            fill: #000000;
            text-anchor: middle;
            dominant-baseline: middle;
        }

        .leader-line {
            stroke: #000000;
            stroke-width: 0.2mm;
            fill: none;
        }

        /* Figure Label */
        .figure-label {
            position: absolute;
            bottom: 5mm;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12pt;
            font-weight: bold;
            text-align: center;
        }

        /* Scale Indicator */
        .scale-indicator {
            position: absolute;            bottom: 5mm;
            right: 15mm;
            font-size: 9pt;
        }

        /* Print Optimization */
        @media print {
            body {
                width: 210mm;
                height: 297mm;
            }
            .drawing-container {
                height: 260mm;
            }
        }
    </style>
</head>
<body>
    <div class="drawing-container">
        <svg viewBox="0 0 160 240" xmlns="http://www.w3.org/2000/svg">
            
            <!-- ==================== HIDDEN LINES (Internal Features) ==================== -->
            <!-- Functional Chamber Back Edges (Hidden) -->
            <line x1="50" y1="90" x2="110" y2="90" class="hidden-edge" />
            <line x1="50" y1="90" x2="40" y2="110" class="hidden-edge" />
            <line x1="110" y1="90" x2="120" y2="110" class="hidden-edge" />
            <line x1="40" y1="110" x2="120" y2="110" class="hidden-edge" />
            
            <!-- Microcapsules inside Functional Chamber (Hidden dots) -->
            <circle cx="55" cy="95" r="1" class="microcapsules" />
            <circle cx="65" cy="92" r="0.8" class="microcapsules" />
            <circle cx="75" cy="95" r="1" class="microcapsules" />
            <circle cx="85" cy="92" r="0.8" class="microcapsules" />
            <circle cx="95" cy="95" r="1" class="microcapsules" />
            <circle cx="105" cy="92" r="0.8" class="microcapsules" />
            <circle cx="60" cy="102" r="0.8" class="microcapsules" />
            <circle cx="70" cy="105" r="1" class="microcapsules" />
            <circle cx="80" cy="102" r="0.8" class="microcapsules" />
            <circle cx="90" cy="105" r="1" class="microcapsules" />
            <circle cx="100" cy="102" r="0.8" class="microcapsules" />

            <!-- ==================== VISIBLE EDGES (Thick Lines) ==================== -->
            <!-- Bottom Face -->
            <polygon points="30,120 80,145 130,120 80,95" class="visible-edge" />
            
            <!-- Left Face -->
            <polygon points="30,120 30,70 80,45 80,95" class="visible-edge" />
            
            <!-- Right Face -->
            <polygon points="80,95 80,45 130,70 130,120" class="visible-edge" />            
            <!-- Top Face (with Cutaway) -->
            <!-- Outer Top Face -->
            <polygon points="30,70 80,45 130,70 80,95" class="visible-edge" />
            
            <!-- Cutaway Section (Showing Internal Chambers) -->
            <polygon points="45,75 80,58 115,75 80,92" class="cut-surface" />
            <line x1="45" y1="75" x2="80" y2="58" class="visible-edge" />
            <line x1="80" y1="58" x2="115" y2="75" class="visible-edge" />
            <line x1="115" y1="75" x2="80" y2="92" class="visible-edge" />
            <line x1="80" y1="92" x2="45" y2="75" class="visible-edge" />

            <!-- ==================== INTERLOCKING FEATURES ==================== -->
            <!-- Male Protrusions (4) - Top -->
            <polygon points="72,50 80,45 88,50 80,55" class="visible-edge" />
            
            <!-- Female Recesses (5) - Bottom Edge Indication -->
            <path d="M 45,132 Q 62,138 80,132" class="visible-edge" fill="none" />
            
            <!-- Shear-key Protrusions (6) - Top Ridge -->
            <line x1="55" y1="60" x2="105" y2="60" class="visible-edge" />
            <line x1="55" y1="60" x2="55" y2="63" class="visible-edge" />
            <line x1="105" y1="60" x2="105" y2="63" class="visible-edge" />

            <!-- ==================== REFERENCE NUMERALS WITH LEADER LINES ==================== -->
            <!-- Note: Numerals match IoT-Removed Specification (1-7) -->
            
            <!-- 1: Overall Block -->
            <circle cx="75" cy="155" r="3.5" class="numeral-circle" />
            <text x="75" y="155" class="numeral-text">1</text>
            <line x1="75" y1="151.5" x2="75" y2="145" class="leader-line" />
            
            <!-- 2: Structural Matrix Chamber (Outer Shell) -->
            <circle cx="15" cy="95" r="3.5" class="numeral-circle" />
            <text x="15" y="95" class="numeral-text">2</text>
            <line x1="18.5" y1="95" x2="28" y2="95" class="leader-line" />
            
            <!-- 3: Functional Healing Chamber (Internal) -->
            <circle cx="75" y="50" r="3.5" class="numeral-circle" />
            <text x="75" y="50" class="numeral-text">3</text>
            <line x1="75" y1="53.5" x2="75" y2="60" class="leader-line" />
            
            <!-- 4: Male Protrusions -->
            <circle cx="75" y="30" r="3.5" class="numeral-circle" />
            <text x="75" y="30" class="numeral-text">4</text>
            <line x1="75" y1="33.5" x2="78" y2="42" class="leader-line" />
            
            <!-- 5: Female Recesses -->
            <circle cx="45" y="155" r="3.5" class="numeral-circle" />
            <text x="45" y="155" class="numeral-text">5</text>            <line x1="48.5" y1="155" x2="58" y2="142" class="leader-line" />
            
            <!-- 6: Shear-key Protrusions -->
            <circle cx="25" y="60" r="3.5" class="numeral-circle" />
            <text x="25" y="60" class="numeral-text">6</text>
            <line x1="28.5" y1="60" x2="52" y2="61" class="leader-line" />
            
            <!-- 7: Shear-key Recesses (Bottom) -->
            <circle cx="135" y="140" r="3.5" class="numeral-circle" />
            <text x="135" y="140" class="numeral-text">7</text>
            <line x1="131.5" y1="140" x2="120" y2="130" class="leader-line" />

        </svg>
    </div>

    <!-- Figure Label -->
    <div class="figure-label">Fig. 1</div>
    
    <!-- Scale Indicator -->
    <div class="scale-indicator">Scale: 1:2</div>

    <script>
        // Print shortcut
        window.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'p') {
                e.preventDefault();
                window.print();
            }
        });
    </script>
</body>
</html>
